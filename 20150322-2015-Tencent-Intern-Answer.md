# 2015年腾讯实习生在线笔试题答案
## 不定项选择题
1\. 关于图的存储结构，下列说法不正确的是（）。**BCD**  
A. 所谓**映像**，就是数据结构在计算机中的表示（映像=物理结构=存储结构）。数据元素之间的关系在计算机中有两种方法：**顺序映像**和**非顺序映像**；对应两种存储结构：`顺序存储结构`和`链式存储结构`。顺序映像的特点是借助元素在存储器中的相对位置来表示元素之间的逻辑关系，非顺序映像的特点是借助元素的指针表示元素之间的逻辑关系。因此图显然没有顺序映像的存储结构。A错。  
B. 图有两种存储结构，一种是**邻接矩阵**，另一种是**邻接表**。其中邻接矩阵是用一个一维数组表示顶点信息，一个二维数组表示边的信息。邻接表是用一个一维数组（或者链表）表示顶点信息，每个顶点拖一个链表表示边的信息。因此图的存储结构可以用数组来表示。B对。  
C. 图的存储结构有两种进阶版：**十字链表**和**邻接多重链表**。分别是针对有向图（十字链表）和无向图（邻接多重链表）的优化。十字链表就是邻接表和逆邻接表的叠加，有助于方便计算入度和出度。邻接多重链表和十字链表相似（只是边表存放的是一条边，而不是n个顶点的序列），方便无向图的删除和修改。这两个都属于多重链表，因此在实际应用中适宜采用多重链表来表示图的存储结构。C对。  
D. C选项中已经分析，**邻接多重链表**是针对**无向图**的优化。D对。  

2\. 下面哪些按钮标签能够让用户点击后直接提交表单？（）  
答： html基础知识 \<input type="submit" />能够在用户点击后直接提交表单。   

3\. 请问下面代码的输出是什么？（）  **CBA**  
答：对象析构时，执行顺序和构造时相反。**所有成员变量在执行构造函数前就已经被构造**，所以反过来，析构的时候，成员变量在析构函数后面执行。

4\. 关于动态库和静态库，以下说法正确的是（）。**ABCD**  
答：有关动态链接库和静态链接库的知识点：区分三个名词**动态链接库**、**静态链接库**、**导入库**。  
软件链接的两种主要方式为：**动态链接**和**静态链接**。动态链接可能涉及到两种文件：导入库lib（如果有的话）和动态链接库dll。其中链接的时候只需要导入库lib（如果有的话），引入库lib（如果有的话）包含被dll导出的函数和变量的符号名，dll包含实际的函数和数据；运行的时候只需要exe和dll，将函数加载到内存中。静态链接只涉及静态链接库lib，里面包含了所有需要的函数和变量，运行的时候，只需要exe。  
显然，A对，B对，C对，D对。  

5\. 关于malloc和new，以下说法正确的是（）。**ABCD**   
答： 有关new和malloc的区别的问题。  
1. malloc与free是**C++/C语言的标准库函数**，new/delete是**C++的运算符**。由于malloc/free是库函数而不是运算符，不在编译器控制权限之内，不能够把执行构造函数和析构函数的任务强加malloc/free。  
2. new**自动计算**需要分配的空间，而malloc需要**手工计算**字节数。  
3. new申请的内存会**比实际对象大**，为了存储**cookie**。比如对象大小是objectSize,则事实上申请objectSize+cookie，这个cookie结构存放的信息包括对象大小，对象前后会包含两个用于检测内存溢出的变量，所有new申请的cookie块会链接成双向链表。  
显然，A对，B对，C对，D对。  

6\. 若数据元素序列10，11，12，5，6，7，20，2，3是采用下列排序方法之一得到的第二趟排序后的结果，则该排序算法只能是（）。**D**  
A. **冒泡排序**:（熟悉不描述）两趟以后**最大（或最小）**的两个元素肯定**到位**了。A错。    
B. **选择排序**:首先在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，然后再从剩余未排序元素中继续寻找最小（大）元素，放到已排序序列的末尾。两趟以后**最大（或最小）**的两个元素肯定**到位**了。B错。  
C. **二路归并排序**：（熟悉不描述）两趟以后会形成最长长度为**4**的**有序段**。C错。  
D. **插入排序**：![Insert Sorting](http://ww2.sinaimg.cn/large/9e2d8c2djw1eqel0075u0g208c02ygmu.gif)  

7\. 程序输出的结果是（）。  
```C++
typedef struct _A{
	char a;
	int b;
	float c;
	double d;
	int *pa;
	char *pc;
	short e;
}A;
#pragma pack(pop)
int main(int argc, char *argv[]){
	printf("size=%d\n",sizeof(A));
	return 0;
}
```
答：编译器的对齐规则的知识点。
<table>
	<th></th>
	<th></th>
<table>

8\. 用二分法查找一个长度为20的，排好序的线性表，查找不成功时，最多需要比较多少次（）  
A. 5  
B. 7  
C. 4  
D. 6  

9\. 应用层DNS协议主要用于实现（）网络服务功能。  
A. IP地址到网络设备名字的映射  
B. IP地址到网络硬件地址的映射  
C. 网络设备名字到IP地址的映射  
D. 网络硬件地址到IP地址的映射

10\. 在MVC模式中，进行业务流程/状态处理以及业务规则制定的是（）。  
A. Model  
B. Manager  
C. View  
D. Controller  

11\. 下面程序的输出结果是（）。
```C++
class Base{
public:
	Base(int i){cout << i;}
	~Base(){}
};
class Base1 : virtual public Base{
public:
	Base1(int i, int j = 0) : Base(j){cout << i;}
	~Base1(){}
};
class Base2 : virtual public Base{
public:
	Base2(int i, int j = 0) : Base(j){cout << i;}
	~Base2(){}
}
class Derived : public Base2, public Base1{
public:
	Derived(int a, int b, int c, int d) : mem1(a), mem2(b), Base1(c), Base2(d), Base(a){cout << b;}
private:
	Base2 mem2;
	Base1 mem1;
};
void main(){
	Derived objD(1,2,3,4);
}
```

12\. 关于递归，说法正确的是（）。  
A. 递归函数是一个直接调用自己或通过一系列的调用语句间接地调用自己的函数  
B. 对二叉树，广义表适宜用递归来进行描述操作  
C. 递归函数重复多次的自我调用不会对栈造成任何影响  
D. 递归函数面对的大部分问题都可以使用迭代函数来解决  

13\. 在定义int a[3][4][2];以后，第10个元素是（）。  
A. a[2][1][2]  
B. a[1][0][1]  
C. a[2][0][1]  
D. a[2][2][1]  

14\. 对于移动平均算法，是计算某变量之前那个数值的算术平均，用哪些数据结果记录历史变量，性能可以达到最优？（）  
A. 数组  
B. 双向链表  
C. 单项链表  
D. 二叉树

15\. 以下这段代码的运行结果是（）。
```C++
char *b = "hello";
char *b = "tencent";
printf("%s %s %s", a,b);
```
A. 编译错误  
B. 输出hello tencent  
C. 运行结果不可预知  
D. 无法运行  

## 简答题
1\. 给定若干个DNA序列（只包含ACGT四个字母），定义逆序度等于DNA中逆序对的总数，例如DNA序列AGCAGT，其逆序对有GC，GA，CA，所以该DNA序列的逆序度为3。请在横线上将DNA的逆序度的计算函数补充完整，要求时间复杂度O(n)。
```C++
#include <stdio.h>
#include <string.h>
int calc_revseq(const char * pdna, unsigned int len){
	int sum = 0;
	int c[4] = {0};	//c[0]-c[3]分别代表字母ACGT计数器
	for(int i = 0; i < len; i++){
		switch(pdna[i]){
		case 'A':
			_________________________;
			_________________________;
			break;
		case 'C':
			_________________________;
			_________________________;
			break;
		case 'G':
			_________________________;
			_________________________;
			break;
		case 'T':
			_________________________;
			break;
		default:
			return -1;
		};
	}
	return sum;
}
int main(int argc, char* argv[]){
	char dna[] = "ACGGGCTACGTCAGTCAAGCTCTTAGCCCCGGTTAGAGCACGTA";
	printf("%d\n",calc_revseq(dna,strlen(dna)));
	return 0;
}
```
2\. 目前每年都有很多的儿童走失，我们的同事已经实现了一个函数库，输入两张照片，会反悔两个照片是否是同一个儿童，但这个函数需要耗费一定的CPU，请你基于这个函数，设计一个帮助父母寻找失踪儿童的系统：  
1) 热心网友们可以同时上传一批流浪儿童的照片；  
2) 系统能对接收到的所有的照片，将同一个儿童的照片归为一组；  
3) 系统在网友的一批照片上传完成后，尽可能快的反悔本次上传中每个照片所属的组；  
A\. 假设仅使用一台机器，为了尽快缩短单个请求的时间，请尽可能详细写出你的数据结构，系统架构，处理流程，设计的思路。  
B\. 假设机器使用的数量不限，为了尽快缩短单个请求的时间，你将从哪些方面进行优化？

3\. 在iOS开发中，下述描述是否正确？一个对象被autoRelease后，这个对象的内存在退出当前调用的函数栈之后就被回收。请讲明原因。
